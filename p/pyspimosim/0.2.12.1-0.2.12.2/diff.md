# Comparing `tmp/pyspimosim-0.2.12.1-py3-none-any.whl.zip` & `tmp/pyspimosim-0.2.12.2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,19 +1,20 @@
-Zip file size: 935399 bytes, number of entries: 279
+Zip file size: 976489 bytes, number of entries: 281
 -rw-rw-r--  2.0 unx        0 b- defN 23-Apr-26 01:15 pyspimosim/__init__.py
 -rw-rw-r--  2.0 unx      144 b- defN 23-Apr-26 01:15 pyspimosim/__main__.py
--rw-rw-r--  2.0 unx     1320 b- defN 23-Apr-26 01:15 pyspimosim/base_model.py
--rw-rw-r--  2.0 unx     9075 b- defN 23-Apr-26 01:15 pyspimosim/csv_pipe_model.py
--rw-rw-r--  2.0 unx     6783 b- defN 23-Apr-28 01:24 pyspimosim/main.py
--rw-rw-r--  2.0 unx      757 b- defN 23-Apr-26 01:15 pyspimosim/model_loader.py
--rw-rw-r--  2.0 unx     9276 b- defN 23-Apr-26 01:15 pyspimosim/protocol.py
--rw-rw-r--  2.0 unx     8085 b- defN 23-Apr-26 01:57 pyspimosim/server_simulation_backend.py
--rw-rw-r--  2.0 unx     6521 b- defN 23-Apr-28 01:24 pyspimosim/servers.py
--rw-rw-r--  2.0 unx     1748 b- defN 23-Apr-26 01:15 pyspimosim/models/ising_model.py
--rw-rw-r--  2.0 unx     1862 b- defN 23-Apr-26 01:15 pyspimosim/models/two_col_csv_model.py
+-rw-rw-r--  2.0 unx     1318 b- defN 23-Apr-30 16:15 pyspimosim/base_model.py
+-rw-rw-r--  2.0 unx     9343 b- defN 23-Apr-30 16:15 pyspimosim/csv_pipe_model.py
+-rw-rw-r--  2.0 unx     7285 b- defN 23-Apr-30 16:28 pyspimosim/main.py
+-rw-rw-r--  2.0 unx      758 b- defN 23-Apr-30 16:15 pyspimosim/model_loader.py
+-rw-rw-r--  2.0 unx     9315 b- defN 23-Apr-30 16:15 pyspimosim/protocol.py
+-rw-rw-r--  2.0 unx     8106 b- defN 23-Apr-30 16:15 pyspimosim/server_simulation_backend.py
+-rw-rw-r--  2.0 unx     6710 b- defN 23-Apr-30 16:19 pyspimosim/servers.py
+-rw-rw-r--  2.0 unx     1766 b- defN 23-Apr-30 16:15 pyspimosim/models/ising_model.py
+-rw-rw-r--  2.0 unx     2083 b- defN 23-Apr-30 16:15 pyspimosim/models/two_col_csv_model.py
+-rw-rw-r--  2.0 unx      687 b- defN 23-Apr-30 16:27 pyspimosim/models/www_model.py
 -rw-rw-r--  2.0 unx     1145 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/LICENSE.md
 -rw-rw-r--  2.0 unx      308 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/README.md
 -rw-rw-r--  2.0 unx     2730 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/Readme.md
 -rw-rw-r--  2.0 unx    13414 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/index.html
 -rw-rw-r--  2.0 unx     1278 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/dsmc/README.txt
 -rw-rw-r--  2.0 unx     4374 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/dsmc/index.html
 -rw-rw-r--  2.0 unx      494 b- defN 23-Apr-25 07:49 pyspimosim/spimosim/dsmc/index.php~
@@ -269,13 +270,14 @@
 -rw-rw-r--  2.0 unx     3451 b- defN 23-Apr-26 01:15 pyspimosim/www/ising/model.js
 -rw-rw-r--  2.0 unx     1554 b- defN 23-Apr-26 01:15 pyspimosim/www/ising/plots/data-aggregators.js
 -rw-rw-r--  2.0 unx      583 b- defN 23-Apr-26 01:15 pyspimosim/www/ising/plots/plot-computers.js
 -rw-rw-r--  2.0 unx      867 b- defN 23-Apr-26 01:15 pyspimosim/www/ising/plots/plot-displays.js
 -rw-rw-r--  2.0 unx     5837 b- defN 23-Apr-26 01:15 pyspimosim/www/two_col_csv/index.html
 -rw-rw-r--  2.0 unx     2617 b- defN 23-Apr-26 01:15 pyspimosim/www/two_col_csv/model-config.js
 -rw-rw-r--  2.0 unx      129 b- defN 23-Apr-26 01:15 pyspimosim/www/two_col_csv/model-info.html
--rw-rw-r--  2.0 unx     1052 b- defN 23-Apr-28 01:24 pyspimosim-0.2.12.1.dist-info/LICENSE.md
--rw-rw-r--  2.0 unx     4177 b- defN 23-Apr-28 01:24 pyspimosim-0.2.12.1.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Apr-28 01:24 pyspimosim-0.2.12.1.dist-info/WHEEL
--rw-rw-r--  2.0 unx       16 b- defN 23-Apr-28 01:24 pyspimosim-0.2.12.1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    30526 b- defN 23-Apr-28 01:24 pyspimosim-0.2.12.1.dist-info/RECORD
-279 files, 3511020 bytes uncompressed, 884749 bytes compressed:  74.8%
+-rw-rw-r--  2.0 unx    51690 b- defN 23-Apr-30 16:30 pyspimosim-0.2.12.2.dist-info/ALL_LICENSES.md
+-rw-rw-r--  2.0 unx     1229 b- defN 23-Apr-30 16:30 pyspimosim-0.2.12.2.dist-info/LICENSE.md
+-rw-rw-r--  2.0 unx    69403 b- defN 23-Apr-30 16:30 pyspimosim-0.2.12.2.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Apr-30 16:30 pyspimosim-0.2.12.2.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       16 b- defN 23-Apr-30 16:30 pyspimosim-0.2.12.2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    30716 b- defN 23-Apr-30 16:30 pyspimosim-0.2.12.2.dist-info/RECORD
+281 files, 3630247 bytes uncompressed, 925537 bytes compressed:  74.5%
```

## zipnote {}

```diff
@@ -27,14 +27,17 @@
 
 Filename: pyspimosim/models/ising_model.py
 Comment: 
 
 Filename: pyspimosim/models/two_col_csv_model.py
 Comment: 
 
+Filename: pyspimosim/models/www_model.py
+Comment: 
+
 Filename: pyspimosim/spimosim/LICENSE.md
 Comment: 
 
 Filename: pyspimosim/spimosim/README.md
 Comment: 
 
 Filename: pyspimosim/spimosim/Readme.md
@@ -816,23 +819,26 @@
 
 Filename: pyspimosim/www/two_col_csv/model-config.js
 Comment: 
 
 Filename: pyspimosim/www/two_col_csv/model-info.html
 Comment: 
 
-Filename: pyspimosim-0.2.12.1.dist-info/LICENSE.md
+Filename: pyspimosim-0.2.12.2.dist-info/ALL_LICENSES.md
+Comment: 
+
+Filename: pyspimosim-0.2.12.2.dist-info/LICENSE.md
 Comment: 
 
-Filename: pyspimosim-0.2.12.1.dist-info/METADATA
+Filename: pyspimosim-0.2.12.2.dist-info/METADATA
 Comment: 
 
-Filename: pyspimosim-0.2.12.1.dist-info/WHEEL
+Filename: pyspimosim-0.2.12.2.dist-info/WHEEL
 Comment: 
 
-Filename: pyspimosim-0.2.12.1.dist-info/top_level.txt
+Filename: pyspimosim-0.2.12.2.dist-info/top_level.txt
 Comment: 
 
-Filename: pyspimosim-0.2.12.1.dist-info/RECORD
+Filename: pyspimosim-0.2.12.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pyspimosim/base_model.py

```diff
@@ -1,28 +1,30 @@
 import sys
 import os
 import asyncio
 from abc import ABC, abstractmethod, abstractproperty
 from dataclasses import dataclass
 
+
 class NoMoreDataException(Exception):
     pass
 
+
 class BaseModel(ABC):
     '''
     Abstract spimosim model
 
     Args:
         backend:
         model_backend_settings:
         model_backend_settings: ModelBackendSettings
     '''
     multi_step = False
     save_state_after_init = True
-    
+
     @classmethod
     def get_www_model_root(cls, root_dir):
         return os.path.join(root_dir, "www", cls.name)
 
     def __init__(self, backend, model_backend_settings, user_model_settings):
         self.backend = backend
         self.user_model_settings = user_model_settings
```

## pyspimosim/csv_pipe_model.py

```diff
@@ -11,14 +11,15 @@
 from dataclasses import dataclass, field
 from pyspimosim.base_model import BaseModel, NoMoreDataException, ModelBackendSettings as BaseModelBackendSettings
 
 
 class CSVPipeReaderEOF(Exception):
     pass
 
+
 def to_numbers(obj):
     if type(obj) is list:
         return [to_numbers(o) for o in obj]
 
     if type(obj) is dict:
         return {key: to_numbers(value) for key, value in obj.items()}
 
@@ -33,14 +34,15 @@
         except Exception as e:
             logging.warning("Warning! Not a float: " + str(e))
             return 0
 
 
 class NoEOFReader(io.BufferedReader):
     __buf = b""
+
     def read(self, size=-1):
         buf = super().read(size=size)
         while len(buf) < size:
             buf += super().read(size=size - len(buf))
         return buf
 
     def read1(self, size=-1):
@@ -70,34 +72,35 @@
                 os.remove(path)
             except FileNotFoundError:
                 pass
 
         if not os.path.exists(path):
             os.system(f"mkfifo {path}")
 
-
         self.data_file_fields = data_file_fields
-        if any(callable(func_or_factor)  for key, func_or_factor in data_file_fields):
+        if any(callable(func_or_factor) for key, func_or_factor in data_file_fields):
             self._convert_using_function = True
             self._functions = []
             for i, (key, func_or_factor) in enumerate(data_file_fields):
                 if callable(func_or_factor):
                     self._functions.append(np.vectorize(func_or_factor))
                 else:
                     self._functions.append(lambda x: func_or_factor * x)
         else:
-            self._factors = np.array([factor for key, factor in data_file_fields])
+            self._factors = np.array(
+                [factor for key, factor in data_file_fields])
             self._convert_using_function = False
 
         self._skip_lines = skip_lines
         self.data_is_final = data_is_final
 
         self.file = None
         self.block_size = block_size
-        self.buf = [{key: 0 for key, _ in self.data_file_fields}] * self.block_size
+        self.buf = [{key: 0 for key, _ in self.data_file_fields}
+                    ] * self.block_size
 
     async def open_file(self):
         while not os.path.exists(self.path):
             await asyncio.sleep(self.sleep_time)
 
         # open without buffering
         f = open(self.path, "rb", buffering=0)
@@ -117,15 +120,15 @@
             self.file.close()
 
     async def fill_buffer(self, max_rows=None):
         if max_rows is None:
             max_rows = self.block_size
 
         await self.prepare_file()
-        
+
         if self.data_is_final:
             max_tries = self.read_tries_until_done
         else:
             max_tries = -1
 
         with warnings.catch_warnings():
             warnings.simplefilter("ignore")
@@ -216,15 +219,16 @@
     async def steps(self, vars_config, t, t_max, protocol, save_interval, next_send_time):
         try:
             await self.csv_pipe_reader.fill_buffer(max_rows=t_max - t + 1)
         except CSVPipeReaderEOF as e:
             raise NoMoreDataException() from e
 
         for i, (name, _) in enumerate(self.data_file_fields):
-            protocol.vars[name].set_all(t, protocol.vars[name].dtype(self.csv_pipe_reader.buf[:, i]))
+            protocol.vars[name].set_all(
+                t, protocol.vars[name].dtype(self.csv_pipe_reader.buf[:, i]))
 
         t_max = t + len(self.csv_pipe_reader.buf) - 1
         protocol.t_max = t_max
         return t_max
 
     async def step(self, vars_config, t, restart=False):
         try:
@@ -262,16 +266,24 @@
         return new
 
     def get(self, backend):
         if self.use_handler_id:
             return str(backend.handler.id)
         return str(self)
 
+
 @dataclass
 class ModelBackendSettings(BaseModelBackendSettings):
-    workbasedir: str = field(default=".", metadata={ "help": "The working directory will be <workbasedir>/<instance_id>"})
-    instance_id: InstanceId = field(default=InstanceId("<random number>", use_handler_id=True), metadata={ "help": "The working directory will be <workbasedir>/<instance_id>"})
-    setting_file: str = field(default="settings.csv", metadata={ "help": "File name (inside working directory) for the *.csv file or pipe for settings (and more)"})
-    data_file: str = field(default="data.csv", metadata={ "help": "File name (inside working directory) for the *.csv file or pipe for generated data"})
-    data_file_skiplines: int = field(default=0, metadata={ "help": "Size of the ignored header of the file specified by --output"})
-    no_new_run: bool = field(default=False, metadata={ "help": "Do not generate new data but read existing data from a previous run"})
-    data_is_final: bool = field(default=False, metadata={ "help": "Stop reading after reaching end of file instead of waiting for new data"})
+    workbasedir: str = field(default=".", metadata={
+                             "help": "The working directory will be <workbasedir>/<instance_id>"})
+    instance_id: InstanceId = field(default=InstanceId("<random number>", use_handler_id=True), metadata={
+                                    "help": "The working directory will be <workbasedir>/<instance_id>"})
+    setting_file: str = field(default="settings.csv", metadata={
+                              "help": "File name (inside working directory) for the *.csv file or pipe for settings (and more)"})
+    data_file: str = field(default="data.csv", metadata={
+                           "help": "File name (inside working directory) for the *.csv file or pipe for generated data"})
+    data_file_skiplines: int = field(default=0, metadata={
+                                     "help": "Size of the ignored header of the file specified by --output"})
+    no_new_run: bool = field(default=False, metadata={
+                             "help": "Do not generate new data but read existing data from a previous run"})
+    data_is_final: bool = field(default=False, metadata={
+                                "help": "Stop reading after reaching end of file instead of waiting for new data"})
```

## pyspimosim/main.py

```diff
@@ -1,15 +1,15 @@
 import sys
 import os
 import argparse
 import logging
 import asyncio
 from pyspimosim.model_loader import get_models
 from dataclasses import dataclass, field, fields, MISSING
-from pyspimosim.servers import start_servers
+from pyspimosim.servers import start_servers, start_web_server
 
 
 root_dir = os.path.dirname(__file__)
 default_root_dir = os.path.join(root_dir, "spimosim")
 default_model_backend_dir = os.path.join(root_dir, "models")
 
 def namespace_to_dataclass(DataClass, args, ignore=()):
@@ -72,70 +72,92 @@
     return parser.parse_known_args(sys.argv)[0].model_backend_dir
 
 
 def get_parser(models):
     parser = argparse.ArgumentParser(
         add_help=False, formatter_class=argparse.ArgumentDefaultsHelpFormatter)
 
-    if sys.version_info >= (3, 7): # required was added in python3.7
-        subparsers = parser.add_subparsers(title="Available models to run", dest="model", required=True)
-    else:
-        subparsers = parser.add_subparsers(title="Available models to run", dest="model")
+    subparsers = parser.add_subparsers(
+        title="Available models to run", dest="model")
+    subparsers.add_parser(
+        "www_model", formatter_class=argparse.ArgumentDefaultsHelpFormatter)
 
-    _, taken_short_options = create_parser_from_data_class(BackendSettings, parser=parser)
+    _, taken_short_options = create_parser_from_data_class(
+        BackendSettings, parser=parser)
     parser.add_argument('--help', "-h", "-?", action=_HelpAction, help='Help')
 
     for model_name, (Model, ModelBackendSettings) in models.items():
         create_parser_from_data_class(ModelBackendSettings, parser=subparsers.add_parser(
             model_name, formatter_class=argparse.ArgumentDefaultsHelpFormatter), taken_short_options=taken_short_options)
 
     try:
         import argcomplete
         argcomplete.autocomplete(parser)
     except:
         pass  # not fatal: bash completion is not available if argcomplete is not installed or fails
 
     return parser
 
-def to_dataclasses(parsed_args, Model, ModelBackendSettings):
-    not_backend_settings_fields = [f.name for f in fields(ModelBackendSettings)] + ["model"]
-    not_model_backend_settings_fields = [f.name for f in fields(BackendSettings)] + ["model"]
 
-    backend_settings = namespace_to_dataclass(BackendSettings, parsed_args, ignore=not_backend_settings_fields)
-    model_backend_settings = namespace_to_dataclass(ModelBackendSettings, parsed_args, ignore=not_model_backend_settings_fields)
+def to_dataclasses(parsed_args, Model, ModelBackendSettings):
+    not_backend_settings_fields = [
+        f.name for f in fields(ModelBackendSettings)] + ["model"]
+    not_model_backend_settings_fields = [
+        f.name for f in fields(BackendSettings)] + ["model"]
+
+    backend_settings = namespace_to_dataclass(
+        BackendSettings, parsed_args, ignore=not_backend_settings_fields)
+    model_backend_settings = namespace_to_dataclass(
+        ModelBackendSettings, parsed_args, ignore=not_model_backend_settings_fields)
     if backend_settings.www_model_root == "":
         backend_settings.www_model_root = Model.get_www_model_root(root_dir)
-    
+
     return backend_settings, model_backend_settings
 
+
 def setup_logging():
     LOGLEVEL = os.environ.get('LOGLEVEL', 'INFO').upper()
     logging.basicConfig(level=LOGLEVEL)
 
+
 @dataclass
 class BackendSettings:
     model_backend_dir : str = field(default=default_model_backend_dir, metadata={"help": "Search directory for models"})
     www_root          : str = field(default=default_root_dir, metadata={"help": "Root directory for the web server"})
     www_address       : str = field(default="0.0.0.0", metadata={"help": "IP address for the web server"})
     www_port          : int = field(default=8000, metadata={"help": "Port for the web server"})
     www_model_root    : str = field(default="", metadata={"help": "Directory containing index.html, model_config.js, model_info.html for model"})
     websocket_address : str = field(default="0.0.0.0", metadata={"help": "IP address for the websocket server"})
     websocket_port    : int = field(default=8090, metadata={"help": "Port for the websocket server"})
 
 
+async def www_model_main(Model, backend_settings, model_backend_settings, custom_tornado_handlers=()):
+    start_web_server(Model, backend_settings,
+                     model_backend_settings, custom_tornado_handlers=())
+
+    # Start IO/Event loop
+    shutdown_event = asyncio.Event()
+    await shutdown_event.wait()
+
+
 def main(custom_tornado_handlers=()):
     setup_logging()
     models = get_models(parse_model_backend_dir_arg())
     parser = get_parser(models)
     parsed_args = parser.parse_args()
     if not parsed_args.model:
-        parser.error("the following arguments are required: model")
+        parsed_args.model = "www_model"
+
     Model, ModelBackendSettings = models[parsed_args.model]
     backend_settings, model_backend_settings = to_dataclasses(parsed_args, Model, ModelBackendSettings)
-    asyncio.get_event_loop().run_until_complete(start_servers(Model, backend_settings, model_backend_settings, custom_tornado_handlers=custom_tornado_handlers))
+    if parsed_args.model == "www_model":
+        asyncio.get_event_loop().run_until_complete(www_model_main(Model, backend_settings, model_backend_settings, custom_tornado_handlers=custom_tornado_handlers))
+    else:
+        asyncio.get_event_loop().run_until_complete(start_servers(Model, backend_settings, model_backend_settings, custom_tornado_handlers=custom_tornado_handlers))
+
 
 def model_main(Model, ModelBackendSettings, custom_tornado_handlers=()):
     setup_logging()
     parser, taken_short_options = create_parser_from_data_class(BackendSettings)
     create_parser_from_data_class(ModelBackendSettings, parser=parser, taken_short_options=taken_short_options)
     parsed_args = parser.parse_args()
     backend_settings, model_backend_settings = to_dataclasses(parsed_args, Model, ModelBackendSettings)
```

## pyspimosim/model_loader.py

```diff
@@ -1,11 +1,12 @@
 import importlib
 import os
 import sys
 
+
 def load_classes(class_name, dirname):
     sys.path = [dirname] + sys.path
     module = importlib.import_module(class_name)
     sys.path = sys.path[1:]
     Model = getattr(module, 'Model')
     ModelBackendSettings = getattr(module, 'ModelBackendSettings')
     return Model, ModelBackendSettings
```

## pyspimosim/protocol.py

```diff
@@ -67,15 +67,16 @@
         elif self.t_max < t_last:
             # pad and replace
             self.data.extend([None] * (t - t_last))
             self.data[t - self.t_min:] = self.copy_vals(vals)
             self.t_max = t_last
         else:
             # replace
-            self.data[t - self.t_min:t_last - self.t_min + 1] = self.copy_vals(vals)
+            self.data[t - self.t_min:t_last -
+                      self.t_min + 1] = self.copy_vals(vals)
 
     def as_dict(self):
         return {
             "tMin": self.t_min,
             "tMax": self.t_max,
             "data": self.data
         }
@@ -209,15 +210,16 @@
                 del self.vars[name]
 
         for name, value in vars_config.items():
             self._update_var(name, value)
 
     def _update_var(self, name, value):
         if value['type'] in ARRAY_TYPES.keys():
-            self.vars[name] = NPArrayProtocolVar(name, self.t_min, dtype=ARRAY_TYPES[value['type']])
+            self.vars[name] = NPArrayProtocolVar(
+                name, self.t_min, dtype=ARRAY_TYPES[value['type']])
         elif value['type'] in NUMBER_TYPES.keys():
             self.vars[name] = NPProtocolVar(
                 name, self.t_min, dtype=NUMBER_TYPES[value['type']])
         elif value['type'] == 'SpinArray':
             self.vars[name] = SpinArrayProtocolVar(
                 name, self.t_min, dtype=NUMBER_TYPES[value['type']])
         else:
```

## pyspimosim/server_simulation_backend.py

```diff
@@ -111,15 +111,16 @@
                 self.bin_msg_charset = 'utf-16-be'
 
         self.backend_settings = new_settings
 
     async def change_model_settings(self, user_model_settings, restart):
         try:
             if self.model == None or restart:
-                self.model = self.Model(self, self.model_backend_settings, user_model_settings)
+                self.model = self.Model(
+                    self, self.model_backend_settings, user_model_settings)
             else:
                 self.model.change_settings(user_model_settings)
             return True
         except InvalidParameterException as e:
             await self.handler.send_invalid_parameter(e.invalid_parameter, e.invalid_parameter_msg)
             if restart:
                 self.invalid_parameter = e.invalid_parameter
```

## pyspimosim/servers.py

```diff
@@ -130,20 +130,22 @@
     try:
         own_ip = subprocess.run(
             ["hostname", "-I"], stdout=subprocess.PIPE).stdout.decode("UTF-8").split(" ")[0]
         return f"Webserver listens on http://{host}:{port}, try accessing via http://{own_ip}:{port}"
     except Exception as e:
         return default_msg
 
-def get_pattern_for_all_files_in(dirname):
+def get_pattern_for_all_files_in(dirname, index_filename="index.html"):
     pattern = "/+("
     for subdir, _, files in os.walk(dirname):
         for filename in files:
             file_path = subdir[len(dirname):].split(os.sep) + [filename]
             pattern += "|" + "/+".join(re.escape(path_part) for path_part in file_path if path_part)
+            if filename == index_filename:
+                pattern += "|" + "/+".join(re.escape(path_part) for path_part in file_path[:-1] if path_part) + "/*"
     return pattern + ")?"
 
 async def start_servers(Model, backend_settings, model_backend_settings, custom_tornado_handlers=()):
     start_websocket_server(Model, backend_settings, model_backend_settings, custom_tornado_handlers=())
     start_web_server(Model, backend_settings, model_backend_settings, custom_tornado_handlers=())
 
     # Start IO/Event loop
```

## pyspimosim/models/ising_model.py

```diff
@@ -38,15 +38,16 @@
             if (k + 1) % self.width != 0:
                 s += sigma[k + 1]
             if (k - self.width) >= 0:
                 s += sigma[k - width]
             if (k + self.width) < n:
                 s += sigma[k + width]
 
-            sigma[k] = 1 if random.random() > 1 / (1 + np.exp(betaj * s)) else -1
+            sigma[k] = 1 if random.random() > 1 / \
+                (1 + np.exp(betaj * s)) else -1
         self.state['magnetisation'] = sum(self.state['sigma']) * 1.
 
 
 def main():
     model_main(Model, ModelBackendSettings)
```

## pyspimosim/models/two_col_csv_model.py

```diff
@@ -22,23 +22,32 @@
         self.csv_pipe_writer = Writer("settings-out.csv", self.settings_fields)
 
 
 class Writer(CSVPipeWriter):
     def go_on(self, t):
         pass
 
+
 @dataclass
 class ModelBackendSettings(BaseModelBackendSettings):
-    workbasedir: str = field(default=os.path.join(root_dir, "tests", "two_col_csv_data") , metadata={ "help": "The working directory will be <workbasedir>/<instance_id>"})
-    instance_id: InstanceId = field(default=InstanceId("red_white"), metadata={ "help": "The working directory will be <workbasedir>/<instance_id>"})
-    setting_file: str = field(default="settings.csv", metadata={ "help": "File name (inside working directory) for the *.csv file or pipe for settings (and more)"})
-    data_file: str = field(default="data.csv", metadata={ "help": "File name (inside working directory) for the *.csv file or pipe for generated data"})
-    data_file_skiplines: int = field(default=0, metadata={ "help": "Size of the ignored header of the file specified by --output"})
-    no_new_run: bool = field(default=True, metadata={ "help": "Generate new data"})
-    data_is_final: bool = field(default=True, metadata={ "help": "Continue reading after reaching end of file and wait for new data"})
+    workbasedir: str = field(default=os.path.join(root_dir, "tests", "two_col_csv_data"), metadata={
+                             "help": "The working directory will be <workbasedir>/<instance_id>"})
+    instance_id: InstanceId = field(default=InstanceId("red_white"), metadata={
+                                    "help": "The working directory will be <workbasedir>/<instance_id>"})
+    setting_file: str = field(default="settings.csv", metadata={
+                              "help": "File name (inside working directory) for the *.csv file or pipe for settings (and more)"})
+    data_file: str = field(default="data.csv", metadata={
+                           "help": "File name (inside working directory) for the *.csv file or pipe for generated data"})
+    data_file_skiplines: int = field(default=0, metadata={
+                                     "help": "Size of the ignored header of the file specified by --output"})
+    no_new_run: bool = field(default=True, metadata={
+                             "help": "Generate new data"})
+    data_is_final: bool = field(default=True, metadata={
+                                "help": "Continue reading after reaching end of file and wait for new data"})
+
 
 def main():
     model_main(Model, ModelBackendSettings)
 
 
 if __name__ == '__main__':
     main()
```

## Comparing `pyspimosim-0.2.12.1.dist-info/LICENSE.md` & `pyspimosim-0.2.12.2.dist-info/LICENSE.md`

 * *Files 20% similar despite different names*

```diff
@@ -1,7 +1,15 @@
+License for pySpiMoSim
+
+--- begin of LICENSE ---
+
 Copyright 2023 Pascal Grafe
 
 Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 
 The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
+
+--- end of LICENSE ---
+
+pySpiMoSim is bundled with open source software. See ALL_LICENSES.md for an overview of all licenses.
```

## Comparing `pyspimosim-0.2.12.1.dist-info/RECORD` & `pyspimosim-0.2.12.2.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -1,18 +1,19 @@
 pyspimosim/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pyspimosim/__main__.py,sha256=-nUqsWhcfzMjd8L810yLPPdUV1u-u6XnhNZmapxJ6r0,144
-pyspimosim/base_model.py,sha256=Z7-oiU9uUC-EeAYm1KqEG2pya9-gnUqiKL5_7vNPij0,1320
-pyspimosim/csv_pipe_model.py,sha256=6VS2ABDFeKsKBzVqwEpMn1D7YXAkCkIKK_t4eA8lk1E,9075
-pyspimosim/main.py,sha256=waJwuu7KL1J3TEI1lxQeCnudCgBoVNmH7otstevV4Ok,6783
-pyspimosim/model_loader.py,sha256=EUHGWJT_6pk5VzXwX8kvb3VWgZ04GRB0EtYwbZ4Beoc,757
-pyspimosim/protocol.py,sha256=2WKeLKv5k2Fd_xo_AUhXxG8fHNiKGlGY0mWX1BA5low,9276
-pyspimosim/server_simulation_backend.py,sha256=5W69Dkyn45Ew9tomvC0BnPl6ZvqKTgEi9ay8v6riYdc,8085
-pyspimosim/servers.py,sha256=pDjKPPrOp-QzqjqSUyMEMTcJFppPdG8Q2j01-6sZrQo,6521
-pyspimosim/models/ising_model.py,sha256=B6o54VkqEWfMSeWDlC1rtXEF_stJgXHe1vHMRmcPjAw,1748
-pyspimosim/models/two_col_csv_model.py,sha256=99I25nBCIB8K9l7SyJ_H_mUg78fx7Y5T8DY_9H6ry7c,1862
+pyspimosim/base_model.py,sha256=dvq05q8CIJM--R9t6oMAsvh1GVFE3a44gWQkaW16JC4,1318
+pyspimosim/csv_pipe_model.py,sha256=-wYCa9bUUmfAWk2mhBpzsFLkpob-J1G0dU9La-CZLqU,9343
+pyspimosim/main.py,sha256=Qt_XJL5OJ6788ZbGP61d5lc0nVHjttyM6FE3mCU0tg4,7285
+pyspimosim/model_loader.py,sha256=WMit8mhLPur2R4dFdX3cR2Yo9r8liNaWC8L3RiIQqcw,758
+pyspimosim/protocol.py,sha256=vZPl3dF0vNrzVTWbUPhpTp13FUSNfn0FbWlMUzX7bTQ,9315
+pyspimosim/server_simulation_backend.py,sha256=yFYTkZQimweOhx6edwctjTiTLOcNa7tX0D3n7OPL1RY,8106
+pyspimosim/servers.py,sha256=FNr1KwVqo2SjQFWQMbHQTQu8shhZwElgwub35kqPMKc,6710
+pyspimosim/models/ising_model.py,sha256=gyhk-lW6PS8eBSDp-hCLfyKZhronal7CjcWskdtZwyI,1766
+pyspimosim/models/two_col_csv_model.py,sha256=gBlngzDB27rAti5clD293UULHsqH7dVVOmau590yOJw,2083
+pyspimosim/models/www_model.py,sha256=Y70v6k0niLWZF4wEC-_y4Z7LtLkvLDdjXgGkf9ysbaU,687
 pyspimosim/spimosim/LICENSE.md,sha256=MamcsPT2svZH6XO4A-lj2ifGxFZqN7p0p7C93OFDWsE,1145
 pyspimosim/spimosim/README.md,sha256=KyjZzqHm3hIXtMh8tnY7g8Y3IJVV98F1RTF4Au7FLBI,308
 pyspimosim/spimosim/Readme.md,sha256=E0ylR4U7LoL_Ko0tmMaxsGKJUcHHhlcBfEvvwMt8yxM,2730
 pyspimosim/spimosim/index.html,sha256=WYSFO0LyNHAQA-d3uTbIuLnUD3prQPlxEM7E0kzrjIg,13414
 pyspimosim/spimosim/dsmc/README.txt,sha256=wVirLSW-YwOgkEMlULbPyjDJysNs_S4vid8i860srA4,1278
 pyspimosim/spimosim/dsmc/index.html,sha256=WR4pGPVuJ5l18-ACTqpnoarzynKH-HSffzpxG4lBy2Y,4374
 pyspimosim/spimosim/dsmc/index.php~,sha256=-4sPVsDyRWPBJanYV7ypS-ye9U5jXKg3dyfirr3Yu14,494
@@ -268,12 +269,13 @@
 pyspimosim/www/ising/model.js,sha256=9BcnszEYDteB5BZrHJ2-Wj5zJiu0pDjZ-aE8odpo76Y,3451
 pyspimosim/www/ising/plots/data-aggregators.js,sha256=Lho-D04Ks5n62UqDY7JqRv0o27gEdbcleJbgkmE7owc,1554
 pyspimosim/www/ising/plots/plot-computers.js,sha256=AETHcml6UzPJw6MXnbN1wo-7t1EGrmAcbb1UCipPf2Y,583
 pyspimosim/www/ising/plots/plot-displays.js,sha256=aoaQ3fPkjuLUhTXvmRPjsfWvdCnIWrmvnxNElDrPA6I,867
 pyspimosim/www/two_col_csv/index.html,sha256=Gw9D1Tdtkn0ds13qm9llz9wv1f-2KtTJrklC71tOoq8,5837
 pyspimosim/www/two_col_csv/model-config.js,sha256=w-tLCG8NeEOk4RdtgLOvWucAN2P8LKEWgfKtDmzuRrQ,2617
 pyspimosim/www/two_col_csv/model-info.html,sha256=z2uVLcPvOOSJkg95goXf6Mtqkq3bc9MsaUQht_x90Wg,129
-pyspimosim-0.2.12.1.dist-info/LICENSE.md,sha256=P-rtGXuKozFY5oCNRkHWFVjUrOz1uPYoAIwVbz7IbjI,1052
-pyspimosim-0.2.12.1.dist-info/METADATA,sha256=hgfmVKyp-uUlEtKtp-yrCs0548Mr90uaaxQMRs0nNus,4177
-pyspimosim-0.2.12.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-pyspimosim-0.2.12.1.dist-info/top_level.txt,sha256=porIeGWfRNNNNHH61NUU4_wT2OdYv-s79JUThcHpUJM,16
-pyspimosim-0.2.12.1.dist-info/RECORD,,
+pyspimosim-0.2.12.2.dist-info/ALL_LICENSES.md,sha256=IVz7dV8JIwiA8y5MkhUJO7g55BZ4WPrltWvGoY2WCVE,51690
+pyspimosim-0.2.12.2.dist-info/LICENSE.md,sha256=ihIzac5TUyM-1oCebhkQNHUlHRgEDwcQ8Jv-DvKTVOs,1229
+pyspimosim-0.2.12.2.dist-info/METADATA,sha256=fHpWeK9MJDA_-gzy4z8xacxv0k5dSQZD0Us28NhO6sk,69403
+pyspimosim-0.2.12.2.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+pyspimosim-0.2.12.2.dist-info/top_level.txt,sha256=porIeGWfRNNNNHH61NUU4_wT2OdYv-s79JUThcHpUJM,16
+pyspimosim-0.2.12.2.dist-info/RECORD,,
```

